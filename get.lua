
-------------------------With mutex ---------------------------
-- ╭─bowber   󰉖 ~
-- ╰─ ❯❯ wrk -t4 -c100 -d10s http://localhost:3000/users/hello
-- Running 10s test @ http://localhost:3000/users/hello
--   4 threads and 100 connections
--   Thread Stats   Avg      Stdev     Max   +/- Stdev
--     Latency     5.52ms    6.33ms  90.94ms   92.83%
--     Req/Sec     5.42k     0.89k    7.17k    79.00%
--   215711 requests in 10.01s, 29.42MB read
-- Requests/sec:  21558.87
-- Transfer/sec:      2.94MB

-- ╭─bowber   󰉖 ~
-- ╰─ ❯❯ wrk -t4 -c100 -d10s http://localhost:3000/users/helloo
-- Running 10s test @ http://localhost:3000/users/helloo
--   4 threads and 100 connections
--   Thread Stats   Avg      Stdev     Max   +/- Stdev
--     Latency     4.78ms    3.68ms  23.82ms   81.53%
--     Req/Sec     5.71k   541.70     6.77k    65.75%
--   227445 requests in 10.00s, 35.36MB read
-- Requests/sec:  22733.89
-- Transfer/sec:      3.53MB

--------------------------Multi threading flag -------------------------
-- Running 10s test @ http://localhost:3000/users/hello
--   4 threads and 100 connections
--   Thread Stats   Avg      Stdev     Max   +/- Stdev
--     Latency     6.40ms    5.90ms  39.05ms   72.92%
--     Req/Sec     4.66k   524.73     5.82k    63.75%
--   185477 requests in 10.00s, 26.00MB read
-- Requests/sec:  18541.00
-- Transfer/sec:      2.60MB

-- Running 10s test @ http://localhost:3000/users/helloo
--   4 threads and 100 connections
--   Thread Stats   Avg      Stdev     Max   +/- Stdev
--     Latency     6.40ms    5.77ms  37.01ms   72.54%
--     Req/Sec     4.60k   446.08     5.64k    63.50%
--   183010 requests in 10.01s, 28.45MB read
-- Requests/sec:  18291.01
-- Transfer/sec:      2.84MB

-----------------------On VPS -------------------------------------
-- Running 10s test @ http://localhost:3100/users/hello
--   4 threads and 100 connections
--   Thread Stats   Avg      Stdev     Max   +/- Stdev
--     Latency    94.68ms   97.28ms 439.52ms   81.69%
--     Req/Sec   397.43    210.97     1.02k    71.90%
--   13862 requests in 10.01s, 1.94MB read
-- Requests/sec:   1384.61
-- Transfer/sec:    198.77KB

-- Revert to manual mutex
-- root@t1no2:~/test# wrk -t4 -c100 -d10s  http://localhost:3100/users/hello
-- Running 10s test @ http://localhost:3100/users/hello
--   4 threads and 100 connections
--   Thread Stats   Avg      Stdev     Max   +/- Stdev
--     Latency    78.76ms   78.70ms 319.65ms   82.83%
--     Req/Sec   447.50    236.73     1.21k    61.33%
--   16177 requests in 10.03s, 2.27MB read
-- Requests/sec:   1613.34
-- Transfer/sec:    231.60KB